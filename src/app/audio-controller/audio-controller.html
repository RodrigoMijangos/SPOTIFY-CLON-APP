<div class="audio-controller" *ngIf="currentTrack">
  <div class="current-track-info">
    <div class="album-cover">
      <img [src]="getAlbumImage()" [alt]="currentTrack.name" />
    </div>
    <div class="track-details">
      <div class="track-name">{{ currentTrack.name }}</div>
      <div class="artist-name">{{ getArtistNames() }}</div>
    </div>
  </div>

  <div class="player-controls">
    <div class="control-buttons">
      <button class="control-btn" (click)="previousTrack()" title="Anterior">
        <i class="fa-solid fa-backward-step"></i>
      </button>
      
      <button class="control-btn play-pause-btn" (click)="togglePlayPause()" title="{{ isPlaying ? 'Pausar' : 'Reproducir' }}">
        <i class="fa-solid" [ngClass]="{ 'fa-play': !isPlaying, 'fa-pause': isPlaying }"></i>
      </button>
      
      <button class="control-btn" (click)="nextTrack()" title="Siguiente">
        <i class="fa-solid fa-forward-step"></i>
      </button>
    </div>

    <div class="progress-section">
      <span class="time-display">{{ formatTime(currentTime) }}</span>
      <div class="progress-container">
        <input 
          type="range" 
          class="progress-bar"
          [value]="currentTime" 
          [max]="duration" 
          step="0.1"
          (input)="onSeek($event)"
        />
      </div>
      <span class="time-display">{{ formatTime(duration) }}</span>
    </div>
  </div>

  <div class="volume-control">
    <i class="fa-solid fa-volume-up"></i>
    <input 
      type="range" 
      class="volume-bar"
      [value]="volume" 
      max="1" 
      step="0.01"
      (input)="onVolumeChange($event)"
    />
  </div>
</div>